# Sitemap

## Sitemapì´ë€?

* Sitemapì€ ì›¹ì‚¬ì´íŠ¸ì˜ **í˜ì´ì§€ êµ¬ì¡°ë¥¼ ê²€ìƒ‰ì—”ì§„ì— ì•Œë ¤ì£¼ëŠ” XML íŒŒì¼**ì´ë‹¤.
* ê²€ìƒ‰ì—”ì§„ì€ sitemapì„ í†µí•´ **ëª¨ë“  ì¤‘ìš”í•œ URL**ì„ ë¹ ë¥´ê²Œ ë°œê²¬í•˜ê³  í¬ë¡¤ë§í•  ìˆ˜ ìˆë‹¤.
* ì¼ë°˜ì ìœ¼ë¡œ `sitemap.xml`ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ë˜ë©°, ë„ë©”ì¸ ë£¨íŠ¸ì— ìœ„ì¹˜í•œë‹¤ (`https://example.com/sitemap.xml`).

---

## ê¸°ë³¸ êµ¬ì¡°

```xml
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="https://www.sitemaps.org/schemas/sitemap/0.9">
  <url>
    <loc>https://example.com/</loc>
    <lastmod>2025-06-16</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
</urlset>
```

### ì£¼ìš” íƒœê·¸ ì„¤ëª…

| íƒœê·¸             | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª…                               |
| -------------- | ----- | -------------------------------- |
| `<loc>`        | âœ… í•„ìˆ˜  | ì ˆëŒ€ URL ì£¼ì†Œ                        |
| `<lastmod>`    | â­• ì„ íƒ  | ë§ˆì§€ë§‰ ìˆ˜ì •ì¼ (ISO 8601 í˜•ì‹)            |
| `<changefreq>` | â­• ì„ íƒ  | í˜ì´ì§€ ë³€ê²½ ë¹ˆë„ (`daily`, `weekly`, ë“±) |
| `<priority>`   | â­• ì„ íƒ  | ìƒëŒ€ì  ì¤‘ìš”ë„ (0.0 \~ 1.0)             |

---

## ì œí•œ ì‚¬í•­

* **ìµœëŒ€ URL ìˆ˜**: í•˜ë‚˜ì˜ sitemapì—ëŠ” ìµœëŒ€ **50,000ê°œ URL**ê¹Œì§€ í¬í•¨ ê°€ëŠ¥
* **íŒŒì¼ í¬ê¸° ì œí•œ**: ì••ì¶•ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ **50MB ì´í•˜**
* ì´ë¥¼ ì´ˆê³¼í•˜ë©´ sitemapì„ ë‚˜ëˆ„ê³  \*\*`sitemap_index.xml`\*\*ë¡œ ë¬¶ì–´ì„œ ì œì¶œí•´ì•¼ í•¨

### Sitemap Index ì˜ˆì‹œ

```xml
<sitemapindex xmlns="https://www.sitemaps.org/schemas/sitemap/0.9">
  <sitemap>
    <loc>https://example.com/sitemap-1.xml</loc>
    <lastmod>2025-06-15</lastmod>
  </sitemap>
  <sitemap>
    <loc>https://example.com/sitemap-2.xml</loc>
    <lastmod>2025-06-16</lastmod>
  </sitemap>
</sitemapindex>
```

---

## SPAì—ì„œ Sitemap ìƒì„± ë°©ë²•

SPA(ì˜ˆ: React + Vite ë“±)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” sitemapì„ ìˆ˜ë™ìœ¼ë¡œ ì‘ì„±í•˜ê±°ë‚˜ ë¹Œë“œ ì‹œ ìƒì„±í•˜ëŠ” ë°©ì‹ì´ í•„ìš”í•˜ë‹¤. ë°˜ë©´, **Next.js**ë‚˜ **Astro**ì™€ ê°™ì€ í”„ë ˆì„ì›Œí¬ëŠ” **ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ì„ ì§€ì›í•˜ë¯€ë¡œ sitemap ìƒì„± ê¸°ëŠ¥ì´ ë‚´ì¥ë˜ì–´ ìˆê±°ë‚˜ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì‰½ê²Œ í™•ì¥ ê°€ëŠ¥**í•˜ë‹¤.

ì¦‰, TanStack Routerì™€ ê°™ì€ ìˆœìˆ˜ SPA ë¼ìš°í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” sitemapì„ ì§ì ‘ ìƒì„±í•˜ê±°ë‚˜, Node ìŠ¤í¬ë¦½íŠ¸ë¥¼ í™œìš©í•œ ìë™í™”ê°€ í•„ìš”í•˜ë‹¤.

### ë°©ë²• 1: `sitemap` íŒ¨í‚¤ì§€ ì‚¬ìš©

1. ì„¤ì¹˜

```bash
npm install sitemap
```

2. ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (`scripts/sitemap-generator.js`)

```js
const { SitemapStream, streamToPromise } = require('sitemap');
const { createWriteStream } = require('fs');

async function generateSitemap() {
  const sitemap = new SitemapStream({ hostname: 'https://example.com' });

  sitemap.write({ url: '/', changefreq: 'weekly', priority: 1.0 });
  sitemap.write({ url: '/about', changefreq: 'monthly', priority: 0.8 });

  sitemap.end();
  const data = await streamToPromise(sitemap);
  createWriteStream('./public/sitemap.xml').end(data);
}

generateSitemap();
```

3. ë¹Œë“œì‹œ ì‹¤í–‰í•˜ë„ë¡ ì—°ê²°

```json
"scripts": {
  "generate:sitemap": "node scripts/sitemap-generator.js",
  "build": "npm run generate:sitemap && vite build"
}
```

### ë°©ë²• 2: ë™ì  ë¼ìš°íŠ¸ ì ìš© (ì˜ˆ: `/blog/:slug`)

* APIë¡œ ìŠ¬ëŸ¬ê·¸ ëª©ë¡ì„ ë°›ì•„ ë™ì ìœ¼ë¡œ sitemapì— ì¶”ê°€

---

## ğŸ¤– ê²€ìƒ‰ì—”ì§„ì— ì œì¶œ

* [Google Search Console](https://search.google.com/search-console/)ì— ì ‘ì† â†’ ë„ë©”ì¸ ì¸ì¦ â†’ "ì‚¬ì´íŠ¸ë§µ" ë©”ë‰´ì— `sitemap.xml` ì œì¶œ
* `robots.txt` íŒŒì¼ì— ê²½ë¡œ ëª…ì‹œ

```txt
Sitemap: https://example.com/sitemap.xml
```

---

## ğŸ§  ê¸°íƒ€ í™•ì¥

* **ë‹¤êµ­ì–´ ì§€ì›**: `<xhtml:link rel="alternate" hreflang="..." />` ì‚¬ìš©
* **ì´ë¯¸ì§€ sitemap**: `<image:image>` íƒœê·¸ ì‚¬ìš©
* **ë™ì˜ìƒ, ë‰´ìŠ¤** ë“±ì˜ íŠ¹ë³„ sitemapë„ ì¡´ì¬í•¨

---

## âœ… ìš”ì•½ ì •ë¦¬

| í•­ëª©            | ì„¤ëª…                                                                                 |
| ------------- | ---------------------------------------------------------------------------------- |
| íŒŒì¼ í˜•ì‹         | XML (í‘œì¤€ êµ¬ì¡° ë”°ë¼ì•¼ í•¨)                                                                  |
| URL ìˆ˜         | 50,000ê°œ ì´í•˜                                                                         |
| íŒŒì¼ í¬ê¸°         | 50MB ì´í•˜ (ë¯¸ì••ì¶• ê¸°ì¤€)                                                                   |
| robots.txt ì—°ë™ | `Sitemap: https://example.com/sitemap.xml` ëª…ì‹œ í•„ìš”                                   |
| ì œì¶œ ê²½ë¡œ         | Google Search Console ë“±                                                            |
| ë™ì  ìƒì„± ê°€ëŠ¥      | Node.js + `sitemap` íŒ¨í‚¤ì§€ ì´ìš© ê°€ëŠ¥                                                      |
| ë‹¤êµ­ì–´ ì²˜ë¦¬        | `<xhtml:link hreflang="..." />` íƒœê·¸ë¥¼ ì´ìš©í•´ ì–¸ì–´ë³„ URLì„ ëª…ì‹œí•˜ê³ , ë™ì¼ ì½˜í…ì¸ ì— ëŒ€í•´ ì–¸ì–´ ë²„ì „ì„ í•¨ê»˜ ì—°ê²°í•´ì•¼ í•¨ |
| í•­ëª©            | ì„¤ëª…                                                                                 |
| ------        | ------                                                                             |
| íŒŒì¼ í˜•ì‹         | XML (í‘œì¤€ êµ¬ì¡° ë”°ë¼ì•¼ í•¨)                                                                  |
| URL ìˆ˜         | 50,000ê°œ ì´í•˜                                                                         |
| íŒŒì¼ í¬ê¸°         | 50MB ì´í•˜ (ë¯¸ì••ì¶• ê¸°ì¤€)                                                                   |
| robots.txt ì—°ë™ | `Sitemap: https://example.com/sitemap.xml` ëª…ì‹œ í•„ìš”                                   |
| ì œì¶œ ê²½ë¡œ         | Google Search Console ë“±                                                            |
| ë™ì  ìƒì„± ê°€ëŠ¥      | Node.js + `sitemap` íŒ¨í‚¤ì§€ ì´ìš© ê°€ëŠ¥                                                      |

---
